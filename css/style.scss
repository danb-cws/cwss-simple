@import "normalize";

//dimensions
$base-font-size: 16px;
$max-content-width: 1000px;
$breakpoint-large: 700px;
$breakpoint-small: 570px;

$golden-ratio: 1.618;
$line-height-multiplier: 1.15;
$primary-horiz-gutter: 1rem;
$primary-vert-gutter: $primary-horiz-gutter / $golden-ratio;
$secondary-horiz-gutter: $primary-horiz-gutter / 3;
$secondary-vert-gutter: $secondary-horiz-gutter / $golden-ratio;

$circle-width: 20rem;
$radial-width: $primary-horiz-gutter;

$header-height: 4rem;
$header-topmargin: ($header-height * 2);
$header-botmargin: $primary-vert-gutter;
$footer-height: 2.4rem;

//font
$font-family: Open Sans,system-ui,BlinkMacSystemFont,Roboto,sans-serif;
$heading-1-size: 1.8rem;
$heading-2-size: 1.2em;
$heading-3-size: 1em;

//colours
$primary-color: #222;
$primary-bg-color: #f7f7f7;
$secondary-color: #7c7c7c;
$secondary-bg-color: #d4d4d4;
$tertiary-color: #e1e1e1;
$tertiary-bg-color: #7c7c7c;

$link-color: $primary-color;
$link-color-hover: $secondary-color;

//basics
* {
  box-sizing: border-box;
}
html {
  font: $base-font-size $font-family;
  color: $primary-color;
  background-color: $primary-bg-color;
}
body {
  margin: 0 auto;
  padding: 2rem $primary-horiz-gutter 0;
  max-width: $max-content-width;
}
a,
a:link,
a:visited {
  color: $link-color;
}
a:hover {
  color: $link-color-hover;
}
p {
  margin-top: 0;
  margin-bottom: .6em;
}
.heading1 {
  font-size: $heading-1-size;
  font-weight: 400;
  line-height: $heading-1-size * $line-height-multiplier;
  text-shadow: 1px 1px $primary-bg-color;
  text-transform: lowercase;
  margin: 0;
}
.heading2 {
  font-size: $heading-2-size;
  margin-bottom: 0;
}
.heading3 {
  font-size: $heading-3-size;
  font-weight: 700;
}
//header
.header-primary {
  color: $primary-color;
  background-color: $secondary-bg-color;
  min-height: $header-height;
  display: flex;
  flex-direction: column;
  justify-content: center;
  margin-bottom: $primary-vert-gutter;
  margin-top: $header-topmargin;
  @media screen and (max-width: $breakpoint-large) {
    margin-top: ( (($header-topmargin / 1rem) * ($base-font-size / 1px))  / (($breakpoint-large / 1px) / 100) ) * 1vw;
  }
  @media print {
    margin-top: 0;
  }
  &::after {
    content: '';
    background-color: $secondary-bg-color;
    position: absolute;
    left: 0;
    right: 0;
    height: $header-height;
    z-index: -1;
  }
  & .heading1 {
    @media screen and (max-width: $breakpoint-large) {
      font-size: ( (($heading-1-size / 1rem) * ($base-font-size / 1px))  / (($breakpoint-large / 1px) / 100) ) * 1vw;
    }
  }
}

//footer
.footer-primary {
  color: $tertiary-color;
  background-color: $tertiary-bg-color;
  min-height: $footer-height;
  display: flex;
  flex-direction: column;
  justify-content: center;
  &::after {
    content: '';
    background-color: $tertiary-bg-color;
    position: absolute;
    left: 0;
    right: 0;
    height: $footer-height;
    z-index: -1;
  }
}

.footer-link {
  float: right;
  text-decoration: none;
  color: $tertiary-color;
  &:visited {
    color: $tertiary-color;
  }
  &:hover {
    color: $primary-bg-color;
    text-decoration: underline;
  }
  @media print {
    display: none;
  }
}


// feature blocks pair (would work with > 2)
// split pair 50/50 without a wrapping element to clearfix
@media screen and (min-width: $breakpoint-large) {
  .feature {
    width: 50%;
  }
  .feature:nth-child(odd) {
    float: left;
    padding-right: $primary-horiz-gutter / 2;
  }
  .feature:nth-child(even) {
    float: right;
    padding-left: $primary-horiz-gutter / 2;
  }
  .feature + *:not(.feature) {
    clear: both;
  }
}
.feature__list {
  list-style: none;
  padding-left: 0;
  margin-top: $primary-vert-gutter;
}
.feature__list-item {
  margin-bottom: $primary-vert-gutter;
}

// brand list
.brand-list {
  list-style: none;
  font-size: 0.825rem;
  border: 1px solid $tertiary-color;
  margin: 0;
  padding: 0;
}
.brand-list-item {
  display: inline-block;
  vertical-align: top;
  padding: $secondary-vert-gutter $secondary-horiz-gutter;
}

.main-content {
  @media screen and (max-width: $breakpoint-large) {
    font-size: ( ($base-font-size / 1px)  / (($breakpoint-large / 1px) / 100) ) * 1vw;
  }
  @media screen and (max-width: $breakpoint-small) {
    font-size: 13px;
  }
}

// mugshot on intro
.intro__mugshot {
  font-size: 1rem;
  float: right;
  margin-top: -(($circle-width / 2) + ($header-height / 2) + $primary-vert-gutter);
  @media screen and (max-width: $breakpoint-large) {
    margin-top: calc( #{((( ($circle-width / 1rem) * ($base-font-size / 1px) )  / (($breakpoint-large / 1px) / 100) ) / -2 )  * 1vw} - #{ ($header-height / 2rem) + $primary-vert-gutter });
  }
  @media print {
    margin-top: -$header-height;
  }
  width: $circle-width;
  height: $circle-width;
  @media screen and (max-width: $breakpoint-large) {
    width:  ( (($circle-width / 1rem) * ($base-font-size / 1px) )  / (($breakpoint-large / 1px) / 100) ) * 1vw;
    height:  ( (($circle-width / 1rem) * ($base-font-size / 1px) )  / (($breakpoint-large / 1px) / 100) ) * 1vw;
  }
  background-image: url(../img/danb-c2r.jpg);
  -webkit-background-size: cover;
  background-size: cover;
  border-radius: 50%;
  border: $radial-width solid $secondary-bg-color;
  shape-outside: circle() padding-box;
  shape-margin: $radial-width;
  @media screen and (max-width: $breakpoint-large) {
    border-width: ( (($radial-width / 1rem) * ($base-font-size / 1px))  / (($breakpoint-large / 1px) / 100) ) * 1vw;
    shape-margin: ( (($radial-width / 1rem) * ($base-font-size / 1px))  / (($breakpoint-large / 1px) / 100) ) * 1vw;
  }
}
