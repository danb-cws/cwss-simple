@import "normalize";

//dimensions
$base-font-size: 16px;
$max-content-width: 1000px;
$breakpoint-large: 700px;

$golden-ratio: 1.618;
$line-height-multiplier: 1.15;
$primary-horiz-gutter: 1rem;
$primary-vert-gutter: $primary-horiz-gutter / $golden-ratio;
$secondary-horiz-gutter: $primary-horiz-gutter / 3;
$secondary-vert-gutter: $secondary-horiz-gutter / $golden-ratio;

$circle-width: 20rem;
$radial-width: $primary-horiz-gutter;

$header-height: 4rem;
$header-topmargin: ($header-height * 2);
$header-botmargin: $primary-vert-gutter;
$footer-height: 2.4rem;

//font
$font-family: Open Sans,system-ui,BlinkMacSystemFont,Roboto,sans-serif;
$heading-1-size: 1.6rem;
$heading-2-size: 1.2rem;
$heading-3-size: 1rem;

//colours
$primary-color: #222;
$primary-bg-color: #f7f7f7;
$secondary-color: #7c7c7c;
$secondary-bg-color: #d4d4d4;
$tertiary-color: #e1e1e1;
$tertiary-bg-color: #7c7c7c;

$link-color: $primary-color;
$link-color-hover: $secondary-color;

//basics
* {
  box-sizing: border-box;
}
html {
  font: $base-font-size $font-family;
  color: $primary-color;
  background-color: $primary-bg-color;
}
body {
  margin: 0 auto;
  padding: 2em $primary-horiz-gutter 0;
  max-width: $max-content-width;
}
a,
a:link,
a:visited {
  color: $link-color;
}
a:hover {
  color: $link-color-hover;
}
p {
  margin-top: 0;
  margin-bottom: .6em;
}
.heading1 {
  font-size: $heading-1-size;
  font-weight: 400;
  line-height: $heading-1-size * $line-height-multiplier;
  margin: 0;
}
.heading2 {
  font-size: $heading-2-size;
  margin-bottom: 0;
}
.heading3 {
  font-size: $heading-3-size;
  font-weight: 700;
}
//header
.header-primary {
  color: $secondary-color;
  background-color: $secondary-bg-color;
  min-height: $header-height;
  display: flex;
  flex-direction: column;
  justify-content: center;
  margin-bottom: $primary-vert-gutter;
  margin-top: $header-topmargin;
/*  @media screen and (max-width: $breakpoint-large) {
    //margin-top: calc( ( (#{$header-topmargin / 1rem} * #{$base-font-size / 1px} )  / (#{$breakpoint-large / 1px} / 100) ) * 1vw );
    margin-top: calc( ( (#{$header-topmargin / 1rem} * #{$base-font-size / 1px} )  / (#{$breakpoint-large / 1px} / 100) ) * 1vw );
  }*/
  &::after {
    content: '';
    background-color: $secondary-bg-color;
    position: absolute;
    left: 0;
    right: 0;
    height: $header-height;
    z-index: -1;
  }
}
@media print {
  .header-primary {
    margin-top: 0;
  }
}

//footer
.footer-primary {
  color: $tertiary-color;
  background-color: $tertiary-bg-color;
  min-height: $footer-height;
  display: flex;
  flex-direction: column;
  justify-content: center;
  &::after {
    content: '';
    background-color: $tertiary-bg-color;
    position: absolute;
    left: 0;
    right: 0;
    height: $footer-height;
    z-index: -1;
  }
}

.footer-link {
  float: right;
  text-decoration: none;
  color: $tertiary-color;
  &:visited {
    color: $tertiary-color;
  }
  &:hover {
    color: $primary-bg-color;
    text-decoration: underline;
  }
  @media print {
    display: none;
  }
}


// feature blocks pair (would work with > 2)
// split pair 50/50 without a wrapping element to clearfix
@media screen and (min-width: $breakpoint-large) {
  .feature {
    width: 50%;
  }
  .feature:nth-child(odd) {
    float: left;
    padding-right: $primary-horiz-gutter / 2;
  }
  .feature:nth-child(even) {
    float: right;
    padding-left: $primary-horiz-gutter / 2;
  }
  .feature + *:not(.feature) {
    clear: both;
  }
}
.feature__list {
  list-style: none;
  padding-left: 0;
  margin-top: $primary-vert-gutter;
}
.feature__list-item {
  margin-bottom: $primary-vert-gutter;
}

// brand list
.brand-list {
  list-style: none;
  font-size: 0.825rem;
  border: 1px solid $tertiary-color;
  margin: 0;
  padding: 0;
}
.brand-list-item {
  display: inline-block;
  vertical-align: top;
  padding: $secondary-vert-gutter $secondary-horiz-gutter;
}

// mugshot on intro
.intro__mugshot {
  float: right;
  margin-top: -($header-topmargin + $header-height + $primary-vert-gutter);
  @media screen and (max-width: $breakpoint-large) {
    margin-top: calc( ( ( ( (#{$circle-width / 1rem} * #{$base-font-size / 1px} )  / (#{$breakpoint-large / 1px} / 100) ) / -2 ) - #{($header-topmargin + $header-height + $primary-vert-gutter) / 1rem} ) * 1vw );
    //margin-top: calc( ( ( ( (#{$circle-width / 1rem} * #{$base-font-size / 1px} )  / (#{$breakpoint-large / 1px} / 100) ) / -2 ) + #{($header-topmargin + $header-height + $primary-vert-gutter) / -1rem} ) * 1vw );
    //margin-top: calc( ( (#{$radial-width / 1rem} * #{$base-font-size / 1px} )  / (#{$breakpoint-large / 1px} / 100) ) * 1vw );
  }
  @media print {
    margin-top: -$header-height;
  }
  width: $circle-width;
  height: $circle-width;
  @media screen and (max-width: $breakpoint-large) {
    width: calc( ( (#{$circle-width / 1rem} * #{$base-font-size / 1px} )  / (#{$breakpoint-large / 1px} / 100) ) * 1vw );
    height: calc( ( (#{$circle-width / 1rem} * #{$base-font-size / 1px} )  / (#{$breakpoint-large / 1px} / 100) ) * 1vw );
  }
  background-image: url(../img/danb-c2r.jpg);
  -webkit-background-size: cover;
  background-size: cover;
  border-radius: 50%;
  border: $radial-width solid $secondary-bg-color;
  shape-outside: circle() padding-box;
  shape-margin: $radial-width;
  @media screen and (max-width: $breakpoint-large) {
    border-width: calc( ( (#{$radial-width / 1rem} * #{$base-font-size / 1px} )  / (#{$breakpoint-large / 1px} / 100) ) * 1vw );
    shape-margin: calc( ( (#{$radial-width / 1rem} * #{$base-font-size / 1px} )  / (#{$breakpoint-large / 1px} / 100) ) * 1vw );
  }
}
